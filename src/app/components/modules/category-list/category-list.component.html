<app-age-verify *ngIf="hasCensored && !status"></app-age-verify>
<ng-container *ngIf="!getDataLoading">
    <div class="row no-gutters categories">
        <div class="col-12 ttl">
            <h1 *ngIf="h1 || seoH1" class="title seoH1">{{seoH1}}</h1>
            <p class='seoText mt-5' *ngIf="seoText" [innerHTML]="seoText | safeHtml"></p>
        </div>
        <div class="col-12">
            <div *ngIf="categorieslist.length > 0" class="row categories-container">
                <div class="col">
                    <div class="cat_block">
                        <a class="main_block" [routerLink]="['/special','skidki']">
                            <span class="cat_img">
                                <svg width="100" height="100" viewBox="0 0 90 90" class="icon_sale_cat" fill="none"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path
                                            d="M45 0L54.3175 10.2267L67.5 6.02886L70.4558 19.5442L83.9711 22.5L79.7733 35.6825L90 45L79.7733 54.3175L83.9711 67.5L70.4558 70.4558L67.5 83.9711L54.3175 79.7733L45 90L35.6825 79.7733L22.5 83.9711L19.5442 70.4558L6.02886 67.5L10.2267 54.3175L0 45L10.2267 35.6825L6.02886 22.5L19.5442 19.5442L22.5 6.02886L35.6825 10.2267L45 0Z"
                                            fill="#F44336"/>
                                    <path
                                            d="M34.9571 46.1495C32.9678 46.1495 31.3632 45.4466 30.1431 44.0409C28.923 42.6351 28.313 40.7918 28.313 38.5108C28.313 36.2298 28.923 34.3864 30.1431 32.9807C31.3632 31.5749 32.9678 30.8721 34.9571 30.8721C36.9463 30.8721 38.551 31.5749 39.771 32.9807C41.0176 34.3599 41.6409 36.2032 41.6409 38.5108C41.6409 40.8183 41.0176 42.6749 39.771 44.0807C38.551 45.4599 36.9463 46.1495 34.9571 46.1495ZM51.6667 31.1506H55.5656L36.5485 59H32.6495L51.6667 31.1506ZM34.9571 43.3645C36.0445 43.3645 36.88 42.9402 37.4635 42.0914C38.0736 41.2427 38.3786 40.0491 38.3786 38.5108C38.3786 36.9724 38.0736 35.7789 37.4635 34.9301C36.88 34.0814 36.0445 33.657 34.9571 33.657C33.9227 33.657 33.0872 34.0946 32.4506 34.9699C31.8406 35.8187 31.5356 36.9989 31.5356 38.5108C31.5356 40.0226 31.8406 41.2161 32.4506 42.0914C33.0872 42.9402 33.9227 43.3645 34.9571 43.3645ZM53.2183 59.2785C51.2291 59.2785 49.6244 58.5756 48.4044 57.1699C47.1843 55.7642 46.5743 53.9208 46.5743 51.6398C46.5743 49.3588 47.1843 47.5154 48.4044 46.1097C49.6244 44.704 51.2291 44.0011 53.2183 44.0011C55.2076 44.0011 56.8122 44.704 58.0323 46.1097C59.2789 47.5154 59.9022 49.3588 59.9022 51.6398C59.9022 53.9208 59.2789 55.7642 58.0323 57.1699C56.8122 58.5756 55.2076 59.2785 53.2183 59.2785ZM53.2183 56.4935C54.2793 56.4935 55.1148 56.0692 55.7248 55.2204C56.3348 54.3452 56.6398 53.1516 56.6398 51.6398C56.6398 50.128 56.3348 48.9477 55.7248 48.0989C55.1148 47.2237 54.2793 46.786 53.2183 46.786C52.1574 46.786 51.3219 47.2104 50.7119 48.0591C50.1019 48.9079 49.7968 50.1014 49.7968 51.6398C49.7968 53.1781 50.1019 54.3717 50.7119 55.2204C51.3219 56.0692 52.1574 56.4935 53.2183 56.4935Z"
                                            fill="white"/>
                                </svg>
                            </span>
                            <span class="cat_title">Акции и скидки</span>
                        </a>
                    </div>
                </div>
                <div class="col">
                    <div class="cat_block">
                        <a [routerLink]="['/special','novinki']" class="main_block">
                            <span class="cat_img">
                                <svg width="78" height="40" viewBox="0 0 78 40" fill="none"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <rect y="0.5" width="78" height="39" rx="7.8" fill="#8D8BFD"/>
                                    <path d="M15.0896 30.2998V13.8124H17.6489L25.8298 25.3639H25.9326V13.8124H28.7662V30.2998H26.2297L18.0374 18.7369H17.9346V30.2998H15.0896ZM42.3515 30.2998H31.6798V13.8124H42.3515V16.3032H34.6276V20.7593H41.9287V23.1016H34.6276V27.809H42.3515V30.2998ZM51.1493 30.2998H48.3729L43.9511 13.8124H47.0132L49.8696 26.3008H49.961L53.2745 13.8124H55.8796L59.1931 26.3008H59.2845L62.1409 13.8124H65.203L60.7813 30.2998H58.0048L54.6342 18.3713H54.5199L51.1493 30.2998Z"
                                            fill="white"/>
                                </svg>
                            </span>
                            <span class="cat_title">Новинки</span>
                        </a>
                    </div>
                </div>
                <div class="col">
                    <div class="cat_block">
                        <a class="main_block" [routerLink]="['/catalog']" [queryParams]="{'is_favorite':'1'}">
                            <span class="cat_img">
                                <svg xmlns="http://www.w3.org/2000/svg" width="89" height="85" viewBox="0 0 89 85" fill="none">
                                    <path d="M41.709 5.49327C42.807 3.25437 45.9986 3.25455 47.0963 5.49359L57.4256 26.5627C57.8611 27.451 58.7066 28.0675 59.6855 28.2106L82.8216 31.5913C85.2764 31.95 86.2597 34.9638 84.4888 36.7013L67.7244 53.1483C67.0229 53.8365 66.7029 54.8248 66.868 55.7936L70.8212 78.9963C71.2391 81.4496 68.6605 83.3157 66.4608 82.152L45.8059 71.2242C44.9283 70.7599 43.8777 70.7599 43 71.2242L22.3451 82.152C20.1454 83.3157 17.5668 81.4496 17.9848 78.9963L21.938 55.7936C22.1031 54.8248 21.7831 53.8365 21.0816 53.1483L4.31711 36.7011C2.54617 34.9637 3.52942 31.9499 5.98424 31.5912L29.1165 28.2105C30.0953 28.0675 30.9407 27.4511 31.3762 26.563L41.709 5.49327Z" fill="#FF7308" stroke="#FF7308" stroke-width="1.12683" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M42.2135 25.5464C42.9526 24.0793 45.0472 24.0794 45.786 25.5466L50.3269 34.5639C50.6214 35.1486 51.1834 35.5522 51.8315 35.6444L61.9205 37.0796C63.5737 37.3148 64.2278 39.3526 63.0202 40.506L55.7729 47.428C55.29 47.8892 55.0691 48.5612 55.1843 49.219L56.9018 59.0333C57.1868 60.6616 55.4855 61.913 54.016 61.156L44.9158 56.4689C44.3411 56.1729 43.6589 56.1729 43.0842 56.4689L33.984 61.156C32.5145 61.913 30.8132 60.6616 31.0982 59.0333L32.8157 49.219C32.9309 48.5612 32.71 47.8893 32.2271 47.428L24.9797 40.5059C23.7722 39.3526 24.4262 37.3148 26.0794 37.0795L36.1665 35.6444C36.8146 35.5522 37.3765 35.1487 37.671 34.5641L42.2135 25.5464Z" fill="white"/>
                                </svg>
                            </span>
                            <span class="cat_title">Избранное</span>
                        </a>
                    </div>
                </div>               
                <div class="col" *ngFor="let category of categorieslist">
                    <div class="cat_block" [ngClass]="{'hide-title': category.subcats.length}">
                        <div tabindex="0" class="main_block"
                             [ngClass]="{'is-opened': category.opened, 'children_list': category.subcats.length > 0}"
                             (click)="category.subcats.length>0 && toggleCategory(category)"
                             [routerLink]="(screenWidth <= 1100 && category.subcats.length == 0) ? ['catalog', category.id] : null">
                            <a [routerLink]="['/category', category?.slug]" class="cat_img">
                                <picture *ngIf="returnWidth() > 480; else mobImage">
                                    <source [srcset]="category.status ? category.censoredImage.desktop : category.mainImage.desktop">
                                    <img [src]="category.status ? category.censoredImage.desktop : category.mainImage.desktop"
                                         loading="lazy" alt="{{category.name}}">
                                </picture>
                                <picture *ngIf="returnWidth() < 480">
                                    <source [srcset]="category.status ? category.censoredImage.mobile : category.mainImage.mobile">
                                    <img [src]="category.status ? category.censoredImage.mobile : category.mainImage.mobile"
                                         loading="lazy" alt="{{category.name}}">
                                </picture>
                                <svg *ngIf="!category.mainImage.desktop && !category.mainImage.mobile" width="100"
                                     height="100" viewBox="0 0 54 43" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                            d="M44.1236 27.4336H10.0971C9.27303 27.4336 8.60577 26.7634 8.60577 25.9356C8.60577 25.1078 9.27303 24.4375 10.0971 24.4375H44.1236C44.9477 24.4375 45.615 25.1078 45.615 25.9356C45.615 26.7634 44.9464 27.4336 44.1236 27.4336Z"
                                            fill="#FF7308"/>
                                    <path
                                            d="M11.6389 32.2207H42.5803C43.4044 32.2207 44.073 32.891 44.073 33.7188C44.073 34.5466 43.4044 35.2182 42.5803 35.2182H11.6389C10.8148 35.2182 10.1475 34.5466 10.1475 33.7188C10.1475 32.8923 10.8148 32.2207 11.6389 32.2207Z"
                                            fill="#9CB538"/>
                                    <path
                                            d="M8.01289 40.0032H26.6976H27.3263H46.0111L50.1861 19.6537H27.0126H3.83916L8.01289 40.0032ZM27.3263 43.0007H26.6976H8.01289C6.60392 43.0007 5.3744 41.9939 5.08995 40.608L0.916229 20.2586C0.735456 19.372 0.957434 18.4614 1.52634 17.7604C2.09524 17.0581 2.93796 16.6562 3.83916 16.6562H26.6976H27.3263H50.1861C51.086 16.6562 51.9287 17.0581 52.4976 17.7604C53.0678 18.4614 53.2898 19.372 53.1077 20.2586L48.934 40.608C48.6509 41.9939 47.42 43.0007 46.0111 43.0007H27.3263Z"
                                            fill="#FF7308"/>
                                    <path
                                            d="M35.8454 12.9651C35.8454 13.8396 36.5525 14.5486 37.4218 14.5486C38.2925 14.5486 38.9983 13.8396 38.9983 12.9651C38.9983 9.64049 37.6571 6.631 35.4878 4.45199C33.3186 2.27298 30.3225 0.925781 27.0128 0.925781C23.7031 0.925781 20.707 2.27298 18.5377 4.45199C16.3685 6.631 15.026 9.64049 15.026 12.9651C15.026 13.8396 15.7331 14.5486 16.6024 14.5486C17.473 14.5486 18.1788 13.8396 18.1788 12.9651C18.1788 10.515 19.1678 8.29597 20.7668 6.69108C22.3645 5.08486 24.5724 4.09282 27.0128 4.09282C29.4519 4.09282 31.661 5.08486 33.2588 6.69108C34.8578 8.29597 35.8454 10.515 35.8454 12.9651Z"
                                            fill="#FF7308"/>
                                </svg>
                            </a>
                            <a [routerLink]="screenWidth>=1100 ? ['/category', category?.slug] : (category.subcats.length ==0 ? ['/category', category?.slug] : '/category')"
                               [class.disabled]="(category.status === false) ? true : null" class="cat_title"
                               href="#">{{category.name}}</a>
                            <div class="arrow_cat">
                                <svg width="14" height="8" viewBox="0 0 14 8" fill="none"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path
                                            d="M6.30693 7.69341L0.287337 1.67362C-0.0957794 1.29069 -0.0957794 0.669828 0.287337 0.287082C0.670113 -0.0956941 1.29094 -0.0956941 1.67368 0.287082L7.0001 5.61367L12.3263 0.287237C12.7093 -0.0955393 13.33 -0.0955393 13.7128 0.287237C14.0957 0.670014 14.0957 1.29084 13.7128 1.67377L7.69312 7.69356C7.50164 7.88495 7.25095 7.98054 7.00013 7.98054C6.74919 7.98054 6.49832 7.88476 6.30693 7.69341Z"
                                            fill="#FF7308"/>
                                </svg>
                            </div>
                        </div>
                        <div class="list_cat" *ngIf="category.subcats.length > 0">
                            <ul>
                                <li>
                                    <a [routerLink]="category.status === true ? [] : ['/category', category?.slug]"
                                       class="list_cat_title" (click)="stopEvent($event, category.status, category.id)">Вся
                                        категория</a>
                                </li>
                                <li *ngFor="let subcategory of category.subcats">
                                    <a [routerLink]="category.status === true ? [] : ['/category', category?.slug, subcategory.slug]"
                                       (click)="stopEvent($event, category.status, subcategory.id)">{{subcategory.name}}</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div *ngIf="categorieslist.length <= 0 && !isLoading">
                Нет данных
            </div>
        </div>
    </div>
</ng-container>
<app-loader *ngIf="getDataLoading"></app-loader>
